import{a as g}from"./chunk-SDPCKNEL.js";import{b as h,d as m,e as S,na as u,pa as y,qa as M}from"./chunk-EPBCWZJQ.js";import{a as d,b as v}from"./chunk-GAL4ENT6.js";var T=(()=>{let o=class o extends M{constructor(a){super({name:"uacodetournamentparticipation"}),this._alert=a}};o.\u0275fac=function(t){return new(t||o)(m(u))},o.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var j=(()=>{let _TournamentService=class _TournamentService{runTournament(n,o,l){o=o.filter(t=>this.scriptLogicVerification[n](this._uacodeService.translate(t.code)));for(let t of o)t.points=0;if(!o.length)return;let a={};for(let t=0;t<o.length;t++)for(let e=0;e<o.length;e++){let r=o[t]._id>o[e]._id?o[t]._id+o[e]._id:o[e]._id+o[t]._id;t!==e&&!a[r]&&(a[r]=!0,this._run[n](o[t],o[e]))}this._http.post("/api/uacode/tournament/run",v(d({},l),{participations:o.map(t=>({points:t.points,_id:t._id}))}))}constructor(_alert,_uacodeService){this._alert=_alert,this._uacodeService=_uacodeService,this._http=S(y),this.methods=["Rock, Paper, Scissors","The Prisoner's Dilemma","Magicians"],this.nameTranslation={"Rock, Paper, Scissors":"\u041A\u0430\u043C\u0456\u043D\u044C, \u043D\u043E\u0436\u0438\u0446\u0456, \u043F\u0430\u043F\u0456\u0440",Magicians:"\u041C\u0430\u0433\u0438","The Prisoner's Dilemma":"\u0414\u0438\u043B\u0435\u043C\u0430 \u0432'\u044F\u0437\u043D\u044F"},this.options={"Rock, Paper, Scissors":["\u043A\u0430\u043C\u0456\u043D\u044C","\u043F\u0430\u043F\u0456\u0440","\u043D\u043E\u0436\u0438\u0446\u0456"],Magicians:["\u0430\u0442\u0430\u043A\u0430","\u0437\u0430\u0445\u0438\u0441\u0442","\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F","\u043C\u0435\u0434\u0435\u0442\u0430\u0446\u0456\u044F"],"The Prisoner's Dilemma":["\u043C\u043E\u0432\u0447\u0430\u0442\u0438","\u0437\u0440\u0430\u0434\u0438\u0442\u0438"]},this.availableVariables={"Rock, Paper, Scissors":`\u0417\u043C\u0456\u043D\u043D\u0430 \u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434
\u0417\u043C\u0456\u043D\u043D\u0430 \u0441\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041A\u0430\u043C\u0435\u043D\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041F\u0430\u043F\u0435\u0440\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041D\u043E\u0436\u0438\u0446\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432`,Magicians:`\u0417\u043C\u0456\u043D\u043D\u0430 \u043C\u043E\u0454\u041E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F
\u0417\u043C\u0456\u043D\u043D\u0430 \u043E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0410\u0442\u0430\u043A
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0410\u0442\u0430\u043A
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439
\u0417\u043C\u0456\u043D\u043D\u0430 \u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F
\u0417\u043C\u0456\u043D\u043D\u0430 \u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438
\u0417\u043C\u0456\u043D\u043D\u0430 \u0440\u0456\u0432\u0435\u043D\u044C\u0416\u0438\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430
\u0417\u043C\u0456\u043D\u043D\u0430 \u0440\u0456\u0432\u0435\u043D\u044C\u041C\u0430\u043D\u0438\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430`,"The Prisoner's Dilemma":`\u0417\u043C\u0456\u043D\u043D\u0430 \u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440
\u0417\u043C\u0456\u043D\u043D\u0430 \u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0440\u0430\u0434
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u043E\u0432\u0447\u0430\u043D\u044C
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0417\u0440\u0430\u0434\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430
\u0417\u043C\u0456\u043D\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0432\u0447\u0430\u043D\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430`},this.codeSamples={"Rock, Paper, Scissors":`\u042F\u043A\u0449\u043E (
  \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432 > \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432 \u0422\u0410 
  \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432 > \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432
) {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043D\u043E\u0436\u0438\u0446\u0456';
} \u0406\u043D\u0430\u043A\u0448\u0435\u042F\u043A\u0449\u043E (
  \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432 > \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432
) {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043F\u0430\u043F\u0456\u0440';
} \u0406\u043D\u0430\u043A\u0448\u0435 {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043A\u0430\u043C\u0456\u043D\u044C';
}`,Magicians:`\u042F\u043A\u0449\u043E (\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F <= 30) {
  \u042F\u043A\u0449\u043E (\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438 >= 20) {
    \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F';
  } \u0406\u043D\u0430\u043A\u0448\u0435 {
    \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F';
  }
} \u0406\u043D\u0430\u043A\u0448\u0435\u042F\u043A\u0449\u043E (\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438 < 10) {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F';
} \u0406\u043D\u0430\u043A\u0448\u0435\u042F\u043A\u0449\u043E (
  \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0410\u0442\u0430\u043A > \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432
) {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u0437\u0430\u0445\u0438\u0441\u0442';
} \u0406\u043D\u0430\u043A\u0448\u0435 {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u0430\u0442\u0430\u043A\u0430';
}`,"The Prisoner's Dilemma":`\u042F\u043A\u0449\u043E (\u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430 == '\u0437\u0440\u0430\u0434\u0438\u0442\u0438') {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u0437\u0440\u0430\u0434\u0438\u0442\u0438';
} \u0406\u043D\u0430\u043A\u0448\u0435\u042F\u043A\u0449\u043E (\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0417\u0440\u0430\u0434\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430 > \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0432\u0447\u0430\u043D\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430) {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u0437\u0440\u0430\u0434\u0438\u0442\u0438';
} \u0406\u043D\u0430\u043A\u0448\u0435 {
  \u041F\u043E\u0432\u0435\u0440\u043D\u0438 '\u043C\u043E\u0432\u0447\u0430\u0442\u0438';
}`},this.scriptLogicVerification={"Rock, Paper, Scissors":code=>{let options=this.options["Rock, Paper, Scissors"],\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434="",\u0441\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434="",\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041A\u0430\u043C\u0435\u043D\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041F\u0430\u043F\u0435\u0440\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041D\u043E\u0436\u0438\u0446\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432=0;for(let i=0;i<999;i++)try{let my_option=eval(`()=>{
						${code}
					}`)();if(!options.includes(my_option))return!1;\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434=my_option;let opponentOption=Math.floor(Math.random()*3);\u0441\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434=options[opponentOption],options.indexOf(my_option)===0?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041A\u0430\u043C\u0435\u043D\u0456\u0432++:options.indexOf(my_option)===1?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041F\u0430\u043F\u0435\u0440\u0456\u0432++:\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041D\u043E\u0436\u0438\u0446\u0456\u0432++,opponentOption===0?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432++:opponentOption===1?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432++:\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432++}catch(n){return this._alert.error({unique:"code",text:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0432 \u043A\u043E\u0434\u0456: "+n.message}),!1}return!0},Magicians:code=>{let options=this.options.Magicians,\u043C\u043E\u0454\u041E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F="",\u043E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430="",\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0410\u0442\u0430\u043A=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0410\u0442\u0430\u043A=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439=0,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F=100,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438=100,\u0440\u0456\u0432\u0435\u043D\u044C\u0416\u0438\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=100,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u0430\u043D\u0438\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=100;for(let i=0;i<999;i++)try{let my_option=eval(`()=>{ ${code} }`)();if(!options.includes(my_option))return!1;\u043C\u043E\u0454\u041E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F=my_option;let opponentOption=Math.floor(Math.random()*4);switch(\u043E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=options[opponentOption],\u043C\u043E\u0454\u041E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F){case"\u0430\u0442\u0430\u043A\u0430":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0410\u0442\u0430\u043A++;break;case"\u0437\u0430\u0445\u0438\u0441\u0442":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432++;break;case"\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C++,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F+=10;break;case"\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439++,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438+=10;break}switch(\u043E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430){case"\u0430\u0442\u0430\u043A\u0430":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0410\u0442\u0430\u043A++,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F-=10;break;case"\u0437\u0430\u0445\u0438\u0441\u0442":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432++;break;case"\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C++,\u0440\u0456\u0432\u0435\u043D\u044C\u0416\u0438\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430+=10;break;case"\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F":\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439++,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u0430\u043D\u0438\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430+=10;break}if(\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F<=0||\u0440\u0456\u0432\u0435\u043D\u044C\u0416\u0438\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430<=0)return!0}catch(n){return this._alert.error({unique:"code",text:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0432 \u043A\u043E\u0434\u0456: "+n.message}),!1}return!0},"The Prisoner's Dilemma":code=>{let options=this.options["The Prisoner's Dilemma"],\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440="",\u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430="",\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0440\u0430\u0434=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u043E\u0432\u0447\u0430\u043D\u044C=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0417\u0440\u0430\u0434\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=0,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0432\u0447\u0430\u043D\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=0;for(let i=0;i<999;i++)try{let my_option=eval(`()=>{ ${code} }`)();if(!options.includes(my_option))return!1;\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440=my_option;let opponentOption=Math.floor(Math.random()*2);\u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430=options[opponentOption],\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440==="\u0437\u0440\u0430\u0434\u0438\u0442\u0438"?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0440\u0430\u0434++:\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u043E\u0432\u0447\u0430\u043D\u044C++,\u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430==="\u0437\u0440\u0430\u0434\u0438\u0442\u0438"?\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0417\u0440\u0430\u0434\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430++:\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0432\u0447\u0430\u043D\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430++}catch(n){return this._alert.error({unique:"code",text:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0432 \u043A\u043E\u0434\u0456: "+n.message}),!1}return!0}},this._run={"Rock, Paper, Scissors":(n,o,l=[])=>{let a={\u043A\u0430\u043C\u0456\u043D\u044C:"\u043D\u043E\u0436\u0438\u0446\u0456",\u043D\u043E\u0436\u0438\u0446\u0456:"\u043F\u0430\u043F\u0456\u0440",\u043F\u0430\u043F\u0456\u0440:"\u043A\u0430\u043C\u0456\u043D\u044C"},t=["\u043A\u0430\u043C\u0456\u043D\u044C","\u043F\u0430\u043F\u0456\u0440","\u043D\u043E\u0436\u0438\u0446\u0456"],e={myMove:"",opponentMove:"",myStones:0,myPaper:0,myScissors:0,opponentStones:0,opponentPaper:0,opponentScissors:0},r={myMove:"",opponentMove:"",myStones:0,myPaper:0,myScissors:0,opponentStones:0,opponentPaper:0,opponentScissors:0};for(let c=0;c<999;c++){let s=this.getOptionRockPaperScissors(e.myMove,e.opponentMove,e.myStones,e.myPaper,e.myScissors,e.opponentStones,e.opponentPaper,e.opponentScissors,this._uacodeService.translate(n.code)),p=this.getOptionRockPaperScissors(r.myMove,r.opponentMove,r.myStones,r.myPaper,r.myScissors,r.opponentStones,r.opponentPaper,r.opponentScissors,this._uacodeService.translate(o.code)),f=this.applyTags(l,t,s,p);if(s=f.moveA,p=f.moveB,!(!t.includes(s)||!t.includes(p))){switch(e.myMove=s,e.opponentMove=p,r.myMove=p,r.opponentMove=s,s){case"\u043A\u0430\u043C\u0456\u043D\u044C":e.myStones++,r.opponentStones++;break;case"\u043F\u0430\u043F\u0456\u0440":e.myPaper++,r.opponentPaper++;break;case"\u043D\u043E\u0436\u0438\u0446\u0456":e.myScissors++,r.opponentScissors++;break}switch(p){case"\u043A\u0430\u043C\u0456\u043D\u044C":r.myStones++,e.opponentStones++;break;case"\u043F\u0430\u043F\u0456\u0440":r.myPaper++,e.opponentPaper++;break;case"\u043D\u043E\u0436\u0438\u0446\u0456":r.myScissors++,e.opponentScissors++;break}s!==p&&(a[s]===p?n.points++:o.points++)}}},Magicians:(n,o,l=[])=>{let a=["\u0430\u0442\u0430\u043A\u0430","\u0437\u0430\u0445\u0438\u0441\u0442","\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F","\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F"],t={previousMove:"",health:100,mana:100,\u0430\u0442\u0430\u043A\u0430:0,\u0437\u0430\u0445\u0438\u0441\u0442:0,\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F:0,\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F:0},e={previousMove:"",health:100,mana:100,\u0430\u0442\u0430\u043A\u0430:0,\u0437\u0430\u0445\u0438\u0441\u0442:0,\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F:0,\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F:0};for(let r=0;r<999;r++){let c=this.getOptionMagicians(t.previousMove,e.previousMove,t.\u0430\u0442\u0430\u043A\u0430,t.\u0437\u0430\u0445\u0438\u0441\u0442,t.\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F,t.\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F,e.\u0430\u0442\u0430\u043A\u0430,e.\u0437\u0430\u0445\u0438\u0441\u0442,e.\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F,e.\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F,t.health,t.mana,e.health,e.mana,this._uacodeService.translate(n.code)),s=this.getOptionMagicians(e.previousMove,t.previousMove,e.\u0430\u0442\u0430\u043A\u0430,e.\u0437\u0430\u0445\u0438\u0441\u0442,e.\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F,e.\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F,t.\u0430\u0442\u0430\u043A\u0430,t.\u0437\u0430\u0445\u0438\u0441\u0442,t.\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F,t.\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F,e.health,e.mana,t.health,t.mana,this._uacodeService.translate(o.code)),p=this.applyTags(l,a,c,s);if(c=p.moveA,s=p.moveB,!(!a.includes(c)||!a.includes(s))){if(t.previousMove=c,e.previousMove=s,t[c]++,e[s]++,(c==="\u0430\u0442\u0430\u043A\u0430"&&t.mana<30||c==="\u0437\u0430\u0445\u0438\u0441\u0442"&&t.mana<10||c==="\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F"&&t.mana<10)&&(c=""),(s==="\u0430\u0442\u0430\u043A\u0430"&&e.mana<30||s==="\u0437\u0430\u0445\u0438\u0441\u0442"&&e.mana<10||s==="\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F"&&e.mana<10)&&(s=""),this.magicianFight(c,s,t,e),this.magicianFight(s,c,e,t),t.health<=0&&e.health<=0)break;t.health<=0?n.points++:e.health<=0&&o.points++}}},"The Prisoner's Dilemma":(n,o,l=[])=>{let a=["\u0437\u0440\u0430\u0434\u0438\u0442\u0438","\u043C\u043E\u0432\u0447\u0430\u0442\u0438"],t={previousMove:"",\u0437\u0440\u0430\u0434\u0438\u0442\u0438:0,\u043C\u043E\u0432\u0447\u0430\u0442\u0438:0},e={previousMove:"",\u0437\u0440\u0430\u0434\u0438\u0442\u0438:0,\u043C\u043E\u0432\u0447\u0430\u0442\u0438:0};for(let r=0;r<999;r++){let c=this.getOptionThePrisonersDilemma(t.previousMove,e.previousMove,t.\u0437\u0440\u0430\u0434\u0438\u0442\u0438,t.\u043C\u043E\u0432\u0447\u0430\u0442\u0438,e.\u0437\u0440\u0430\u0434\u0438\u0442\u0438,e.\u043C\u043E\u0432\u0447\u0430\u0442\u0438,this._uacodeService.translate(n.code)),s=this.getOptionThePrisonersDilemma(e.previousMove,t.previousMove,e.\u0437\u0440\u0430\u0434\u0438\u0442\u0438,e.\u043C\u043E\u0432\u0447\u0430\u0442\u0438,t.\u0437\u0440\u0430\u0434\u0438\u0442\u0438,t.\u043C\u043E\u0432\u0447\u0430\u0442\u0438,this._uacodeService.translate(o.code)),p=this.applyTags(l,a,c,s);c=p.moveA,s=p.moveB,!(!a.includes(c)||!a.includes(s))&&(t.previousMove=c,e.previousMove=s,t[c]++,e[s]++,c==="\u043C\u043E\u0432\u0447\u0430\u0442\u0438"&&s==="\u043C\u043E\u0432\u0447\u0430\u0442\u0438"?(n.points+=3,o.points+=3):c==="\u043C\u043E\u0432\u0447\u0430\u0442\u0438"&&s==="\u0437\u0440\u0430\u0434\u0438\u0442\u0438"?o.points+=5:c==="\u0437\u0440\u0430\u0434\u0438\u0442\u0438"&&s==="\u043C\u043E\u0432\u0447\u0430\u0442\u0438"?n.points+=5:(n.points+=1,o.points+=1))}}},this.magicianFight=(n,o,l,a)=>{n==="\u0430\u0442\u0430\u043A\u0430"&&(a.health-=o==="\u0437\u0430\u0445\u0438\u0441\u0442"?10:30,l.mana-=30),n==="\u0437\u0430\u0445\u0438\u0441\u0442"&&(l.mana-=10),n==="\u043B\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F"&&(l.health+=20,l.health>100&&(l.health=100),l.mana-=10),n==="\u043C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u044F"&&(l.mana+=50)}}getOptionRockPaperScissors(\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434,\u0441\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0425\u0456\u0434,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041A\u0430\u043C\u0435\u043D\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041F\u0430\u043F\u0435\u0440\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041D\u043E\u0436\u0438\u0446\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041A\u0430\u043C\u0435\u043D\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041F\u0430\u043F\u0435\u0440\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041D\u043E\u0436\u0438\u0446\u0456\u0432,code){try{return eval(`()=>{ ${code} }`)()}catch(n){return null}}getOptionMagicians(\u043C\u043E\u0454\u041E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F,\u043E\u0441\u0442\u0430\u043D\u043D\u0454\u0417\u0430\u043A\u043B\u044F\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0410\u0442\u0430\u043A,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0410\u0442\u0430\u043A,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u0417\u0430\u0445\u0438\u0441\u0442\u0456\u0432,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041B\u0456\u043A\u0443\u0432\u0430\u043D\u044C,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430\u041C\u0435\u0434\u0438\u0442\u0430\u0446\u0456\u0439,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0433\u043E\u0416\u0438\u0442\u0442\u044F,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u043E\u0454\u0457\u041C\u0430\u043D\u0438,\u0440\u0456\u0432\u0435\u043D\u044C\u0416\u0438\u0442\u0442\u044F\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,\u0440\u0456\u0432\u0435\u043D\u044C\u041C\u0430\u043D\u0438\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,code){try{return eval(`()=>{ ${code} }`)()}catch(n){return null}}getOptionThePrisonersDilemma(\u043C\u0456\u0439\u041E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440,\u043E\u0441\u0442\u0430\u043D\u043D\u0456\u0439\u0412\u0438\u0431\u0456\u0440\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u0417\u0440\u0430\u0434,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0457\u0445\u041C\u043E\u0432\u0447\u0430\u043D\u044C,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u0417\u0440\u0430\u0434\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,\u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C\u041C\u043E\u0432\u0447\u0430\u043D\u044C\u0421\u0443\u043F\u0435\u0440\u043D\u0438\u043A\u0430,code){try{return eval(`()=>{ ${code} }`)()}catch(n){return null}}applyTags(n,o,l,a){return n.includes("Reality")&&Math.random()<.04&&(l=o[Math.floor(Math.random()*o.length)]),n.includes("Reality")&&Math.random()<.04&&(a=o[Math.floor(Math.random()*o.length)]),n.includes("One Shift")&&(Math.random()>.5?l=o[o.length-1]===l?o[0]:o[o.indexOf(l)+1]:a=o[o.length-1]===a?o[0]:o[o.indexOf(a)+1]),{moveA:l,moveB:a}}};_TournamentService.\u0275fac=function(o){return new(o||_TournamentService)(m(u),m(g))},_TournamentService.\u0275prov=h({token:_TournamentService,factory:_TournamentService.\u0275fac,providedIn:"root"});let TournamentService=_TournamentService;return TournamentService})();export{T as a,j as b};
