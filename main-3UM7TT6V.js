import{a as Li,b as Ii}from"./chunk-PPOTTCBV.js";import{A as fi,B as F,Ba as Ri,C as z,D as st,E as di,Ea as ot,Fa as Oi,H as pi,I as Bt,J as Ln,K as mi,L as gi,M as yi,N as _i,O as J,V as vi,W as Ei,X as wi,a as b,aa as bi,b as se,ba as Si,c as It,ca as Ft,d as oe,da as Ti,ea as Ci,f as ti,fa as qt,g as ni,ga as ae,h as ri,ha as Ai,i as ii,ia as Pi,j as On,ja as ki,ka as Ni,m as si,ma as V,n as oi,o as ai,p as G,pa as Mi,q as Qe,r as Dt,t as li,u as ci,ua as xi,v as ui,w as hi,wa as le}from"./chunk-EPBCWZJQ.js";import{a as Lt,c as Zr,d as T,e as ei,f as va,g as Rn}from"./chunk-GAL4ENT6.js";var Bs=T((uu,Ds)=>{"use strict";Ds.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Se=T(Ie=>{"use strict";var ur,wl=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ie.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ie.getSymbolTotalCodewords=function(e){return wl[e]};Ie.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};Ie.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ur=e};Ie.isKanjiModeEnabled=function(){return typeof ur<"u"};Ie.toSJIS=function(e){return ur(e)}});var an=T(ee=>{"use strict";ee.L={bit:1};ee.M={bit:0};ee.Q={bit:3};ee.H={bit:2};function bl(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return ee.L;case"m":case"medium":return ee.M;case"q":case"quartile":return ee.Q;case"h":case"high":return ee.H;default:throw new Error("Unknown EC Level: "+r)}}ee.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};ee.from=function(e,t){if(ee.isValid(e))return e;try{return bl(e)}catch{return t}}});var Us=T((du,qs)=>{"use strict";function Fs(){this.buffer=[],this.length=0}Fs.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};qs.exports=Fs});var Vs=T((pu,zs)=>{"use strict";function gt(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}gt.prototype.set=function(r,e,t,n){let i=r*this.size+e;this.data[i]=t,n&&(this.reservedBit[i]=!0)};gt.prototype.get=function(r,e){return this.data[r*this.size+e]};gt.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};gt.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};zs.exports=gt});var Ks=T(ln=>{"use strict";var Sl=Se().getSymbolSize;ln.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=Sl(e),i=n===145?26:Math.ceil((n-13)/(2*t-2))*2,s=[n-7];for(let o=1;o<t-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()};ln.getPositions=function(e){let t=[],n=ln.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let o=0;o<i;o++)s===0&&o===0||s===0&&o===i-1||s===i-1&&o===0||t.push([n[s],n[o]]);return t}});var Hs=T(js=>{"use strict";var Tl=Se().getSymbolSize,Qs=7;js.getPositions=function(e){let t=Tl(e);return[[0,0],[t-Qs,0],[0,t-Qs]]}});var $s=T(A=>{"use strict";A.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var De={N1:3,N2:3,N3:40,N4:10};A.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};A.from=function(e){return A.isValid(e)?parseInt(e,10):void 0};A.getPenaltyN1=function(e){let t=e.size,n=0,i=0,s=0,o=null,a=null;for(let l=0;l<t;l++){i=s=0,o=a=null;for(let c=0;c<t;c++){let u=e.get(l,c);u===o?i++:(i>=5&&(n+=De.N1+(i-5)),o=u,i=1),u=e.get(c,l),u===a?s++:(s>=5&&(n+=De.N1+(s-5)),a=u,s=1)}i>=5&&(n+=De.N1+(i-5)),s>=5&&(n+=De.N1+(s-5))}return n};A.getPenaltyN2=function(e){let t=e.size,n=0;for(let i=0;i<t-1;i++)for(let s=0;s<t-1;s++){let o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(o===4||o===0)&&n++}return n*De.N2};A.getPenaltyN3=function(e){let t=e.size,n=0,i=0,s=0;for(let o=0;o<t;o++){i=s=0;for(let a=0;a<t;a++)i=i<<1&2047|e.get(o,a),a>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&n++}return n*De.N3};A.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let s=0;s<n;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/n/5)-10)*De.N4};function Cl(r,e,t){switch(r){case A.Patterns.PATTERN000:return(e+t)%2===0;case A.Patterns.PATTERN001:return e%2===0;case A.Patterns.PATTERN010:return t%3===0;case A.Patterns.PATTERN011:return(e+t)%3===0;case A.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case A.Patterns.PATTERN101:return e*t%2+e*t%3===0;case A.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case A.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}A.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)t.isReserved(s,i)||t.xor(s,i,Cl(e,s,i))};A.getBestMask=function(e,t){let n=Object.keys(A.Patterns).length,i=0,s=1/0;for(let o=0;o<n;o++){t(o),A.applyMask(o,e);let a=A.getPenaltyN1(e)+A.getPenaltyN2(e)+A.getPenaltyN3(e)+A.getPenaltyN4(e);A.applyMask(o,e),a<s&&(s=a,i=o)}return i}});var fr=T(hr=>{"use strict";var Te=an(),cn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],un=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];hr.getBlocksCount=function(e,t){switch(t){case Te.L:return cn[(e-1)*4+0];case Te.M:return cn[(e-1)*4+1];case Te.Q:return cn[(e-1)*4+2];case Te.H:return cn[(e-1)*4+3];default:return}};hr.getTotalCodewordsCount=function(e,t){switch(t){case Te.L:return un[(e-1)*4+0];case Te.M:return un[(e-1)*4+1];case Te.Q:return un[(e-1)*4+2];case Te.H:return un[(e-1)*4+3];default:return}}});var Ws=T(fn=>{"use strict";var yt=new Uint8Array(512),hn=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)yt[t]=e,hn[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)yt[t]=yt[t-255]})();fn.log=function(e){if(e<1)throw new Error("log("+e+")");return hn[e]};fn.exp=function(e){return yt[e]};fn.mul=function(e,t){return e===0||t===0?0:yt[hn[e]+hn[t]]}});var Ys=T(_t=>{"use strict";var dr=Ws();_t.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<t.length;s++)n[i+s]^=dr.mul(e[i],t[s]);return n};_t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let i=n[0];for(let o=0;o<t.length;o++)n[o]^=dr.mul(t[o],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};_t.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=_t.mul(t,new Uint8Array([1,dr.exp(n)]));return t}});var Xs=T((wu,Js)=>{"use strict";var Gs=Ys();function pr(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}pr.prototype.initialize=function(e){this.degree=e,this.genPoly=Gs.generateECPolynomial(this.degree)};pr.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=Gs.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};Js.exports=pr});var mr=T(Zs=>{"use strict";Zs.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var gr=T(fe=>{"use strict";var eo="[0-9]+",Al="[A-Z $%*+\\-./:]+",vt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";vt=vt.replace(/u/g,"\\u");var Pl="(?:(?![A-Z0-9 $%*+\\-./:]|"+vt+`)(?:.|[\r
]))+`;fe.KANJI=new RegExp(vt,"g");fe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fe.BYTE=new RegExp(Pl,"g");fe.NUMERIC=new RegExp(eo,"g");fe.ALPHANUMERIC=new RegExp(Al,"g");var kl=new RegExp("^"+vt+"$"),Nl=new RegExp("^"+eo+"$"),Ml=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fe.testKanji=function(e){return kl.test(e)};fe.testNumeric=function(e){return Nl.test(e)};fe.testAlphanumeric=function(e){return Ml.test(e)}});var Ce=T(L=>{"use strict";var xl=mr(),yr=gr();L.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};L.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};L.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};L.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};L.MIXED={bit:-1};L.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!xl.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};L.getBestModeForData=function(e){return yr.testNumeric(e)?L.NUMERIC:yr.testAlphanumeric(e)?L.ALPHANUMERIC:yr.testKanji(e)?L.KANJI:L.BYTE};L.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};L.isValid=function(e){return e&&e.bit&&e.ccBits};function Rl(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return L.NUMERIC;case"alphanumeric":return L.ALPHANUMERIC;case"kanji":return L.KANJI;case"byte":return L.BYTE;default:throw new Error("Unknown mode: "+r)}}L.from=function(e,t){if(L.isValid(e))return e;try{return Rl(e)}catch{return t}}});var so=T(Be=>{"use strict";var dn=Se(),Ol=fr(),to=an(),Ae=Ce(),_r=mr(),ro=7973,no=dn.getBCHDigit(ro);function Ll(r,e,t){for(let n=1;n<=40;n++)if(e<=Be.getCapacity(n,t,r))return n}function io(r,e){return Ae.getCharCountIndicator(r,e)+4}function Il(r,e){let t=0;return r.forEach(function(n){let i=io(n.mode,e);t+=i+n.getBitsLength()}),t}function Dl(r,e){for(let t=1;t<=40;t++)if(Il(r,t)<=Be.getCapacity(t,e,Ae.MIXED))return t}Be.from=function(e,t){return _r.isValid(e)?parseInt(e,10):t};Be.getCapacity=function(e,t,n){if(!_r.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Ae.BYTE);let i=dn.getSymbolTotalCodewords(e),s=Ol.getTotalCodewordsCount(e,t),o=(i-s)*8;if(n===Ae.MIXED)return o;let a=o-io(n,e);switch(n){case Ae.NUMERIC:return Math.floor(a/10*3);case Ae.ALPHANUMERIC:return Math.floor(a/11*2);case Ae.KANJI:return Math.floor(a/13);case Ae.BYTE:default:return Math.floor(a/8)}};Be.getBestVersionForData=function(e,t){let n,i=to.from(t,to.M);if(Array.isArray(e)){if(e.length>1)return Dl(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return Ll(n.mode,n.getLength(),i)};Be.getEncodedBits=function(e){if(!_r.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;dn.getBCHDigit(t)-no>=0;)t^=ro<<dn.getBCHDigit(t)-no;return e<<12|t}});var co=T(lo=>{"use strict";var vr=Se(),ao=1335,Bl=21522,oo=vr.getBCHDigit(ao);lo.getEncodedBits=function(e,t){let n=e.bit<<3|t,i=n<<10;for(;vr.getBCHDigit(i)-oo>=0;)i^=ao<<vr.getBCHDigit(i)-oo;return(n<<10|i)^Bl}});var ho=T((Pu,uo)=>{"use strict";var Fl=Ce();function Ge(r){this.mode=Fl.NUMERIC,this.data=r.toString()}Ge.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ge.prototype.getLength=function(){return this.data.length};Ge.prototype.getBitsLength=function(){return Ge.getBitsLength(this.data.length)};Ge.prototype.write=function(e){let t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-t;s>0&&(n=this.data.substr(t),i=parseInt(n,10),e.put(i,s*3+1))};uo.exports=Ge});var po=T((ku,fo)=>{"use strict";var ql=Ce(),Er=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Je(r){this.mode=ql.ALPHANUMERIC,this.data=r}Je.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Je.prototype.getLength=function(){return this.data.length};Je.prototype.getBitsLength=function(){return Je.getBitsLength(this.data.length)};Je.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=Er.indexOf(this.data[t])*45;n+=Er.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Er.indexOf(this.data[t]),6)};fo.exports=Je});var go=T((Nu,mo)=>{"use strict";var Ul=Ce();function Xe(r){this.mode=Ul.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Xe.getBitsLength=function(e){return e*8};Xe.prototype.getLength=function(){return this.data.length};Xe.prototype.getBitsLength=function(){return Xe.getBitsLength(this.data.length)};Xe.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};mo.exports=Xe});var _o=T((Mu,yo)=>{"use strict";var zl=Ce(),Vl=Se();function Ze(r){this.mode=zl.KANJI,this.data=r}Ze.getBitsLength=function(e){return e*13};Ze.prototype.getLength=function(){return this.data.length};Ze.prototype.getBitsLength=function(){return Ze.getBitsLength(this.data.length)};Ze.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=Vl.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};yo.exports=Ze});var vo=T((xu,wr)=>{"use strict";var Et={single_source_shortest_paths:function(r,e,t){var n={},i={};i[e]=0;var s=Et.PriorityQueue.make();s.push(e,0);for(var o,a,l,c,u,h,f,g,d;!s.empty();){o=s.pop(),a=o.value,c=o.cost,u=r[a]||{};for(l in u)u.hasOwnProperty(l)&&(h=u[l],f=c+h,g=i[l],d=typeof i[l]>"u",(d||g>f)&&(i[l]=f,s.push(l,f),n[l]=a))}if(typeof t<"u"&&typeof i[t]>"u"){var m=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],n=e,i;n;)t.push(n),i=r[n],n=r[n];return t.reverse(),t},find_path:function(r,e,t){var n=Et.single_source_shortest_paths(r,e,t);return Et.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(r){var e=Et.PriorityQueue,t={},n;r=r||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof wr<"u"&&(wr.exports=Et)});var Po=T(et=>{"use strict";var S=Ce(),bo=ho(),So=po(),To=go(),Co=_o(),wt=gr(),pn=Se(),Kl=vo();function Eo(r){return unescape(encodeURIComponent(r)).length}function bt(r,e,t){let n=[],i;for(;(i=r.exec(t))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function Ao(r){let e=bt(wt.NUMERIC,S.NUMERIC,r),t=bt(wt.ALPHANUMERIC,S.ALPHANUMERIC,r),n,i;return pn.isKanjiModeEnabled()?(n=bt(wt.BYTE,S.BYTE,r),i=bt(wt.KANJI,S.KANJI,r)):(n=bt(wt.BYTE_KANJI,S.BYTE,r),i=[]),e.concat(t,n,i).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function br(r,e){switch(e){case S.NUMERIC:return bo.getBitsLength(r);case S.ALPHANUMERIC:return So.getBitsLength(r);case S.KANJI:return Co.getBitsLength(r);case S.BYTE:return To.getBitsLength(r)}}function Ql(r){return r.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function jl(r){let e=[];for(let t=0;t<r.length;t++){let n=r[t];switch(n.mode){case S.NUMERIC:e.push([n,{data:n.data,mode:S.ALPHANUMERIC,length:n.length},{data:n.data,mode:S.BYTE,length:n.length}]);break;case S.ALPHANUMERIC:e.push([n,{data:n.data,mode:S.BYTE,length:n.length}]);break;case S.KANJI:e.push([n,{data:n.data,mode:S.BYTE,length:Eo(n.data)}]);break;case S.BYTE:e.push([{data:n.data,mode:S.BYTE,length:Eo(n.data)}])}}return e}function Hl(r,e){let t={},n={start:{}},i=["start"];for(let s=0;s<r.length;s++){let o=r[s],a=[];for(let l=0;l<o.length;l++){let c=o[l],u=""+s+l;a.push(u),t[u]={node:c,lastCount:0},n[u]={};for(let h=0;h<i.length;h++){let f=i[h];t[f]&&t[f].node.mode===c.mode?(n[f][u]=br(t[f].lastCount+c.length,c.mode)-br(t[f].lastCount,c.mode),t[f].lastCount+=c.length):(t[f]&&(t[f].lastCount=c.length),n[f][u]=br(c.length,c.mode)+4+S.getCharCountIndicator(c.mode,e))}}i=a}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:t}}function wo(r,e){let t,n=S.getBestModeForData(r);if(t=S.from(e,n),t!==S.BYTE&&t.bit<n.bit)throw new Error('"'+r+'" cannot be encoded with mode '+S.toString(t)+`.
 Suggested mode is: `+S.toString(n));switch(t===S.KANJI&&!pn.isKanjiModeEnabled()&&(t=S.BYTE),t){case S.NUMERIC:return new bo(r);case S.ALPHANUMERIC:return new So(r);case S.KANJI:return new Co(r);case S.BYTE:return new To(r)}}et.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(wo(n,null)):n.data&&t.push(wo(n.data,n.mode)),t},[])};et.fromString=function(e,t){let n=Ao(e,pn.isKanjiModeEnabled()),i=jl(n),s=Hl(i,t),o=Kl.find_path(s.map,"start","end"),a=[];for(let l=1;l<o.length-1;l++)a.push(s.table[o[l]].node);return et.fromArray(Ql(a))};et.rawSplit=function(e){return et.fromArray(Ao(e,pn.isKanjiModeEnabled()))}});var No=T(ko=>{"use strict";var gn=Se(),Sr=an(),$l=Us(),Wl=Vs(),Yl=Ks(),Gl=Hs(),Ar=$s(),Pr=fr(),Jl=Xs(),mn=so(),Xl=co(),Zl=Ce(),Tr=Po();function ec(r,e){let t=r.size,n=Gl.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||t<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?r.set(s+a,o+l,!0,!0):r.set(s+a,o+l,!1,!0))}}function tc(r){let e=r.size;for(let t=8;t<e-8;t++){let n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function nc(r,e){let t=Yl.getPositions(e);for(let n=0;n<t.length;n++){let i=t[n][0],s=t[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(i+o,s+a,!0,!0):r.set(i+o,s+a,!1,!0)}}function rc(r,e){let t=r.size,n=mn.getEncodedBits(e),i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(n>>a&1)===1,r.set(i,s,o,!0),r.set(s,i,o,!0)}function Cr(r,e,t){let n=r.size,i=Xl.getEncodedBits(e,t),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(n-15+s,8,o,!0),s<8?r.set(8,n-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(n-8,8,1,!0)}function ic(r,e){let t=r.size,n=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!r.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),r.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||t<=i){i-=n,n=-n;break}}}function sc(r,e,t){let n=new $l;t.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),Zl.getCharCountIndicator(l.mode,r)),l.write(n)});let i=gn.getSymbolTotalCodewords(r),s=Pr.getTotalCodewordsCount(r,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(o-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return oc(n,r,e)}function oc(r,e,t){let n=gn.getSymbolTotalCodewords(e),i=Pr.getTotalCodewordsCount(e,t),s=n-i,o=Pr.getBlocksCount(e,t),a=n%o,l=o-a,c=Math.floor(n/o),u=Math.floor(s/o),h=u+1,f=c-u,g=new Jl(f),d=0,m=new Array(o),C=new Array(o),k=0,x=new Uint8Array(r.buffer);for(let M=0;M<o;M++){let D=M<l?u:h;m[M]=x.slice(d,d+D),C[M]=g.encode(m[M]),d+=D,k=Math.max(k,D)}let I=new Uint8Array(n),R=0,q,O;for(q=0;q<k;q++)for(O=0;O<o;O++)q<m[O].length&&(I[R++]=m[O][q]);for(q=0;q<f;q++)for(O=0;O<o;O++)I[R++]=C[O][q];return I}function ac(r,e,t,n){let i;if(Array.isArray(r))i=Tr.fromArray(r);else if(typeof r=="string"){let c=e;if(!c){let u=Tr.rawSplit(r);c=mn.getBestVersionForData(u,t)}i=Tr.fromString(r,c||40)}else throw new Error("Invalid data");let s=mn.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=sc(e,t,i),a=gn.getSymbolSize(e),l=new Wl(a);return ec(l,e),tc(l),nc(l,e),Cr(l,t,0),e>=7&&rc(l,e),ic(l,o),isNaN(n)&&(n=Ar.getBestMask(l,Cr.bind(null,l,t))),Ar.applyMask(n,l),Cr(l,t,n),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:n,segments:i}}ko.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Sr.M,i,s;return typeof t<"u"&&(n=Sr.from(t.errorCorrectionLevel,Sr.M),i=mn.from(t.version),s=Ar.from(t.maskPattern),t.toSJISFunc&&gn.setToSJISFunction(t.toSJISFunc)),ac(e,i,n,s)}});var kr=T(Fe=>{"use strict";function Mo(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Fe.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:Mo(e.color.dark||"#000000ff"),light:Mo(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Fe.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Fe.getImageWidth=function(e,t){let n=Fe.getScale(e,t);return Math.floor((e+t.margin*2)*n)};Fe.qrToImageData=function(e,t,n){let i=t.modules.size,s=t.modules.data,o=Fe.getScale(i,n),a=Math.floor((i+n.margin*2)*o),l=n.margin*o,c=[n.color.light,n.color.dark];for(let u=0;u<a;u++)for(let h=0;h<a;h++){let f=(u*a+h)*4,g=n.color.light;if(u>=l&&h>=l&&u<a-l&&h<a-l){let d=Math.floor((u-l)/o),m=Math.floor((h-l)/o);g=c[s[d*i+m]?1:0]}e[f++]=g.r,e[f++]=g.g,e[f++]=g.b,e[f]=g.a}}});var xo=T(yn=>{"use strict";var Nr=kr();function lc(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function cc(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}yn.render=function(e,t,n){let i=n,s=t;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),t||(s=cc()),i=Nr.getOptions(i);let o=Nr.getImageWidth(e.modules.size,i),a=s.getContext("2d"),l=a.createImageData(o,o);return Nr.qrToImageData(l.data,e,i),lc(a,s,o),a.putImageData(l,0,0),s};yn.renderToDataURL=function(e,t,n){let i=n;typeof i>"u"&&(!t||!t.getContext)&&(i=t,t=void 0),i||(i={});let s=yn.render(e,t,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}});var Lo=T(Oo=>{"use strict";var uc=kr();function Ro(r,e){let t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function Mr(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function hc(r,e,t){let n="",i=0,s=!1,o=0;for(let a=0;a<r.length;a++){let l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),r[a]?(o++,a>0&&l>0&&r[a-1]||(n+=s?Mr("M",l+t,.5+c+t):Mr("m",i,0),i=0,s=!1),l+1<e&&r[a+1]||(n+=Mr("h",o),o=0)):i++}return n}Oo.render=function(e,t,n){let i=uc.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+Ro(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Ro(i.color.dark,"stroke")+' d="'+hc(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,f),f}});var Do=T(St=>{"use strict";var fc=Bs(),xr=No(),Io=xo(),dc=Lo();function Rr(r,e,t,n,i){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!fc())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=n=void 0):o===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(l,c){try{let u=xr.create(t,n);l(r(u,e,n))}catch(u){c(u)}})}try{let l=xr.create(t,n);i(null,r(l,e,n))}catch(l){i(l)}}St.create=xr.create;St.toCanvas=Rr.bind(null,Io.render);St.toDataURL=Rr.bind(null,Io.renderToDataURL);St.toString=Rr.bind(null,function(r,e,t){return dc.render(r,t)})});var v=(function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r})(v||{}),X="*";function at(r,e){return{type:v.Trigger,name:r,definitions:e,options:{}}}function ve(r,e=null){return{type:v.Animate,styles:e,timings:r}}function Di(r,e=null){return{type:v.Sequence,steps:r,options:e}}function Q(r){return{type:v.Style,styles:r,offset:null}}function lt(r,e,t){return{type:v.State,name:r,styles:e,options:t}}function Ee(r,e,t=null){return{type:v.Transition,expr:r,animation:e,options:t}}var ce=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Me=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(i)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},je="!";function Bi(r){return new b(3e3,!1)}function Ea(){return new b(3100,!1)}function wa(){return new b(3101,!1)}function ba(r){return new b(3001,!1)}function Sa(r){return new b(3003,!1)}function Ta(r){return new b(3004,!1)}function qi(r,e){return new b(3005,!1)}function Ui(){return new b(3006,!1)}function zi(){return new b(3007,!1)}function Vi(r,e){return new b(3008,!1)}function Ki(r){return new b(3002,!1)}function Qi(r,e,t,n,i){return new b(3010,!1)}function ji(){return new b(3011,!1)}function Hi(){return new b(3012,!1)}function $i(){return new b(3200,!1)}function Wi(){return new b(3202,!1)}function Yi(){return new b(3013,!1)}function Gi(r){return new b(3014,!1)}function Ji(r){return new b(3015,!1)}function Xi(r){return new b(3016,!1)}function Zi(r,e){return new b(3404,!1)}function Ca(r){return new b(3502,!1)}function es(r){return new b(3503,!1)}function ts(){return new b(3300,!1)}function ns(r){return new b(3504,!1)}function rs(r){return new b(3301,!1)}function is(r,e){return new b(3302,!1)}function ss(r){return new b(3303,!1)}function os(r,e){return new b(3400,!1)}function as(r){return new b(3401,!1)}function ls(r){return new b(3402,!1)}function cs(r,e){return new b(3505,!1)}function he(r){switch(r.length){case 0:return new ce;case 1:return r[0];default:return new Me(r)}}function Fn(r,e,t=new Map,n=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((f,g)=>{let d=g,m=f;if(g!=="offset")switch(d=r.normalizePropertyName(d,i),m){case je:m=t.get(g);break;case X:m=n.get(g);break;default:m=r.normalizeStyleValue(g,d,m,i);break}h.set(d,m)}),u||s.push(h),a=h,o=c}),i.length)throw Ca(i);return s}function Ut(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&In(t,"start",r)));break;case"done":r.onDone(()=>n(t&&In(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&In(t,"destroy",r)));break}}function In(r,e,t){let n=t.totalTime,i=!!t.disabled,s=zt(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,n??r.totalTime,i),o=r._data;return o!=null&&(s._data=o),s}function zt(r,e,t,n,i="",s=0,o){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:s,disabled:!!o}}function j(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function qn(r){let e=r.indexOf(":"),t=r.substring(1,e),n=r.slice(e+1);return[t,n]}var Aa=typeof document>"u"?null:document.documentElement;function Vt(r){let e=r.parentNode||r.host||null;return e===Aa?null:e}function Pa(r){return r.substring(1,6)=="ebkit"}var xe=null,Fi=!1;function us(r){xe||(xe=ka()||{},Fi=xe.style?"WebkitAppearance"in xe.style:!1);let e=!0;return xe.style&&!Pa(r)&&(e=r in xe.style,!e&&Fi&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in xe.style)),e}function ka(){return typeof document<"u"?document.body:null}function Un(r,e){for(;e;){if(e===r)return!0;e=Vt(e)}return!1}function zn(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let n=r.querySelector(e);return n?[n]:[]}var Na=1e3,Vn="{{",Ma="}}",Kn="ng-enter",Kt="ng-leave",ct="ng-trigger",ut=".ng-trigger",Qn="ng-animating",Qt=".ng-animating";function ue(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dn(parseFloat(e[1]),e[2])}function Dn(r,e){switch(e){case"s":return r*Na;default:return r}}function ht(r,e,t){return r.hasOwnProperty("duration")?r:Ra(r,e,t)}var xa=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Ra(r,e,t){let n,i=0,s="";if(typeof r=="string"){let o=r.match(xa);if(o===null)return e.push(Bi(r)),{duration:0,delay:0,easing:""};n=Dn(parseFloat(o[1]),o[2]);let a=o[3];a!=null&&(i=Dn(parseFloat(a),o[4]));let l=o[5];l&&(s=l)}else n=r;if(!t){let o=!1,a=e.length;n<0&&(e.push(Ea()),o=!0),i<0&&(e.push(wa()),o=!0),o&&e.splice(a,0,Bi(r))}return{duration:n,delay:i,easing:s}}function hs(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function te(r,e,t){e.forEach((n,i)=>{let s=jt(i);t&&!t.has(i)&&t.set(i,r.style[s]),r.style[s]=n})}function we(r,e){e.forEach((t,n)=>{let i=jt(n);r.style[i]=""})}function He(r){return Array.isArray(r)?r.length==1?r[0]:Di(r):r}function fs(r,e,t){let n=e.params||{},i=jn(r);i.length&&i.forEach(s=>{n.hasOwnProperty(s)||t.push(ba(s))})}var Bn=new RegExp(`${Vn}\\s*(.+?)\\s*${Ma}`,"g");function jn(r){let e=[];if(typeof r=="string"){let t;for(;t=Bn.exec(r);)e.push(t[1]);Bn.lastIndex=0}return e}function $e(r,e,t){let n=`${r}`,i=n.replace(Bn,(s,o)=>{let a=e[o];return a==null&&(t.push(Sa(o)),a=""),a.toString()});return i==n?r:i}var Oa=/-+([a-z0-9])/g;function jt(r){return r.replace(Oa,(...e)=>e[1].toUpperCase())}function ds(r,e){return r===0||e===0}function ps(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((s,o)=>{n.has(o)||i.push(o),n.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Ht(r,a)))}}return e}function H(r,e,t){switch(e.type){case v.Trigger:return r.visitTrigger(e,t);case v.State:return r.visitState(e,t);case v.Transition:return r.visitTransition(e,t);case v.Sequence:return r.visitSequence(e,t);case v.Group:return r.visitGroup(e,t);case v.Animate:return r.visitAnimate(e,t);case v.Keyframes:return r.visitKeyframes(e,t);case v.Style:return r.visitStyle(e,t);case v.Reference:return r.visitReference(e,t);case v.AnimateChild:return r.visitAnimateChild(e,t);case v.AnimateRef:return r.visitAnimateRef(e,t);case v.Query:return r.visitQuery(e,t);case v.Stagger:return r.visitStagger(e,t);default:throw Ta(e.type)}}function Ht(r,e){return window.getComputedStyle(r)[e]}var lr=(()=>{class r{validateStyleProperty(t){return us(t)}containsElement(t,n){return Un(t,n)}getParentElement(t){return Vt(t)}query(t,n,i){return zn(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,s,o,a=[],l){return new ce(i,s)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=se({token:r,factory:r.\u0275fac})}return r})(),Oe=class{static NOOP=new lr},Le=class{};var La=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Jt=class extends Le{normalizePropertyName(e,t){return jt(e)}normalizeStyleValue(e,t,n,i){let s="",o=n.toString().trim();if(La.has(t)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(qi(e,n))}return o+s}};var Xt="*";function Ia(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Da(n,t,e)):t.push(r),t}function Da(r,e,t){if(r[0]==":"){let l=Ba(r,t);if(typeof l=="function"){e.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(Ji(r)),e;let i=n[1],s=n[2],o=n[3];e.push(ms(i,o));let a=i==Xt&&o==Xt;s[0]=="<"&&!a&&e.push(ms(o,i))}function Ba(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Xi(r)),"* => *"}}var $t=new Set(["true","1"]),Wt=new Set(["false","0"]);function ms(r,e){let t=$t.has(r)||Wt.has(r),n=$t.has(e)||Wt.has(e);return(i,s)=>{let o=r==Xt||r==i,a=e==Xt||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?$t.has(r):Wt.has(r)),!a&&n&&typeof s=="boolean"&&(a=s?$t.has(e):Wt.has(e)),o&&a}}var Cs=":self",Fa=new RegExp(`s*${Cs}s*,?`,"g");function As(r,e,t,n){return new Jn(r).build(e,t,n)}var gs="",Jn=class{_driver;constructor(e){this._driver=e}build(e,t,n){let i=new Xn(t);return this._resetContextStyleTimingState(i),H(this,He(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=gs,e.collectedStyles=new Map,e.collectedStyles.set(gs,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(Ui()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==v.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==v.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(zi())}),{type:v.Trigger,name:e.name,states:s,transitions:o,queryCount:n,depCount:i,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jn(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(Vi(e.name,[...s.values()]))}return{type:v.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=H(this,He(e.animation),t),i=Ia(e.expr,t.errors);return{type:v.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Re(e.options)}}visitSequence(e,t){return{type:v.Sequence,steps:e.steps.map(n=>H(this,n,t)),options:Re(e.options)}}visitGroup(e,t){let n=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=n;let a=H(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:v.Group,steps:s,options:Re(e.options)}}visitAnimate(e,t){let n=Va(e.timings,t.errors);t.currentAnimateTimings=n;let i,s=e.styles?e.styles:Q({});if(s.type==v.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=Q(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:v.Animate,timings:n,style:i,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===X?n.push(a):t.errors.push(Ki(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Vn)>=0){s=!0;break}}}),{type:v.Style,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(Qi(l,u.startTime,u.endTime,s,i)),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:i}),t.options&&fs(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:v.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(ji()),n;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(k=>{let x=this._makeStyleAst(k,t),I=x.offset!=null?x.offset:za(x.styles),R=0;return I!=null&&(s++,R=x.offset=I),l=l||R<0||R>1,a=a||R<c,c=R,o.push(R),x});l&&t.errors.push(Hi()),a&&t.errors.push($i());let h=e.steps.length,f=0;s>0&&s<h?t.errors.push(Wi()):s==0&&(f=i/(h-1));let g=h-1,d=t.currentTime,m=t.currentAnimateTimings,C=m.duration;return u.forEach((k,x)=>{let I=f>0?x==g?1:f*x:o[x],R=I*C;t.currentTime=d+m.delay+R,m.duration=R,this._validateStyleAst(k,t),k.offset=I,n.styles.push(k)}),n}visitReference(e,t){return{type:v.Reference,animation:H(this,He(e.animation),t),options:Re(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:v.AnimateChild,options:Re(e.options)}}visitAnimateRef(e,t){return{type:v.AnimateRef,animation:this.visitReference(e.animation,t),options:Re(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=qa(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,j(t.collectedStyles,t.currentQuerySelector,new Map);let a=H(this,He(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:v.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Re(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Yi());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ht(e.timings,t.errors,!0);return{type:v.Stagger,animation:H(this,He(e.animation),t),timings:n,options:null}}};function qa(r){let e=!!r.split(/\s*,\s*/).find(t=>t==Cs);return e&&(r=r.replace(Fa,"")),r=r.replace(/@\*/g,ut).replace(/@\w+/g,t=>ut+"-"+t.slice(1)).replace(/:animating/g,Qt),[r,e]}function Ua(r){return r?Lt({},r):null}var Xn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function za(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Va(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let s=ht(r,e).duration;return Hn(s,0,"")}let t=r;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Hn(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=ht(t,e);return Hn(i.duration,i.delay,i.easing)}function Re(r){return r?(r=Lt({},r),r.params&&(r.params=Ua(r.params))):r={},r}function Hn(r,e,t){return{duration:r,delay:e,easing:t}}function cr(r,e,t,n,i,s,o=null,a=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var dt=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ka=1,Qa=":enter",ja=new RegExp(Qa,"g"),Ha=":leave",$a=new RegExp(Ha,"g");function Ps(r,e,t,n,i,s=new Map,o=new Map,a,l,c=[]){return new Zn().buildKeyframes(r,e,t,n,i,s,o,a,l,c)}var Zn=class{buildKeyframes(e,t,n,i,s,o,a,l,c,u=[]){c=c||new dt;let h=new er(e,t,c,i,s,u,[]);h.options=l;let f=l.delay?ue(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,l),H(this,n,h);let g=h.timelines.filter(d=>d.containsAnimation());if(g.length&&a.size){let d;for(let m=g.length-1;m>=0;m--){let C=g[m];if(C.element===t){d=C;break}}d&&!d.allowOnlyTimelineStyles()&&d.setStyles([a],null,h.errors,l)}return g.length?g.map(d=>d.buildKeyframes()):[cr(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:ue($e(s,i?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime,o=n.duration!=null?ue(n.duration):null,a=n.delay!=null?ue(n.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),H(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==v.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zt);let o=ue(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>H(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ue(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),H(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?$e(n,t.params,t.errors):n;return ht(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let s=e.style;s.type==v.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ue(i.delay):0;s&&(t.previousNode.type===v.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zt);let o=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),H(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;H(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-h+(i.startTime-n.currentTimeline.startTime)}},Zt={},er=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Zt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new en(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=ue(n.duration)),n.delay!=null&&(i.delay=ue(n.delay));let s=n.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=$e(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){let i=t||this.element,s=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Zt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new tr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(ja,"."+this._enterClassName),e=e.replace($a,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(Gi(t)),a}},en=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ka,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||X),this._currentKeyframe.set(t,X);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=Wa(e,this._globalTimelineStyles);for(let[a,l]of o){let c=$e(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??X),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===je?e.add(h):u===X&&t.add(h)}),n||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return cr(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},tr=class extends en{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=n+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",ys(a)),s.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]),g=f.get("offset"),d=t+g*n;f.set("offset",ys(d/o)),s.push(f)}n=o,t=0,i="",e=s}return cr(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}};function ys(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function Wa(r,e){let t=new Map,n;return r.forEach(i=>{if(i==="*"){n??=e.keys();for(let s of n)t.set(s,X)}else for(let[s,o]of i)t.set(s,o)}),t}function _s(r,e,t,n,i,s,o,a,l,c,u,h,f){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}var $n={},tn=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return Ya(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,s,o,a,l,c,u){let h=[],f=this.ast.options&&this.ast.options.params||$n,g=a&&a.params||$n,d=this.buildStyles(n,g,h),m=l&&l.params||$n,C=this.buildStyles(i,m,h),k=new Set,x=new Map,I=new Map,R=i==="void",q={params:ks(m,f),delay:this.ast.options?.delay},O=u?[]:Ps(e,t,this.ast.animation,s,o,d,C,q,c,h),M=0;return O.forEach(D=>{M=Math.max(D.duration+D.delay,M)}),h.length?_s(t,this._triggerName,n,i,R,d,C,[],[],x,I,M,h):(O.forEach(D=>{let Pe=D.element,Ke=j(x,Pe,new Set);D.preStyleProps.forEach(ke=>Ke.add(ke));let Yr=j(I,Pe,new Set);D.postStyleProps.forEach(ke=>Yr.add(ke)),Pe!==t&&k.add(Pe)}),_s(t,this._triggerName,n,i,R,d,C,O,[...k.values()],x,I,M))}};function Ya(r,e,t,n,i){return r.some(s=>s(e,t,n,i))}function ks(r,e){let t=Lt({},e);return Object.entries(r).forEach(([n,i])=>{i!=null&&(t[n]=i)}),t}var nr=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,i=ks(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=$e(o,i,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),n.set(a,o)})}),n}};function Ga(r,e,t){return new rr(r,e,t)}var rr=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new nr(i.style,s,n))}),vs(this.states,"true","1"),vs(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new tn(e,i,this.states))}),this.fallbackTransition=Ja(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(o=>o.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Ja(r,e,t){let n=[(o,a)=>!0],i={type:v.Sequence,steps:[],options:null},s={type:v.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new tn(r,s,e)}function vs(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var Xa=new dt,ir=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],i=[],s=As(this._driver,t,n,i);if(n.length)throw es(n);this._animations.set(e,s)}_buildPlayer(e,t,n){let i=e.element,s=Fn(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Ps(this._driver,t,s,Kn,Kt,new Map,new Map,n,Xa,i),o.forEach(u=>{let h=j(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(i.push(ts()),o=[]),i.length)throw ns(i);a.forEach((u,h)=>{u.forEach((f,g)=>{u.set(g,this._driver.computeStyle(h,g,X))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=he(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw rs(e);return t}listen(e,t,n,i){let s=zt(t,"","","");return Ut(this._getPlayer(e),n,s,i),()=>{}}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Es="ng-animate-queued",Za=".ng-animate-queued",Wn="ng-animate-disabled",el=".ng-animate-disabled",tl="ng-star-inserted",nl=".ng-star-inserted",rl=[],Ns={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},il={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ne="__ng_removed",pt=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=ol(i),n){let s=e,{value:o}=s,a=Zr(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i])})}}},ft="void",Yn=new pt(ft),sr=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Z(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw is(n,t);if(n==null||n.length==0)throw ss(t);if(!al(n))throw os(n,t);let s=j(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};s.push(o);let a=j(this._engine.statesByElement,e,new Map);return a.has(t)||(Z(e,ct),Z(e,ct+"-"+t),a.set(t,Yn)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw as(e);return t}trigger(e,t,n,i=!0){let s=this._getTrigger(t),o=new mt(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Z(e,ct),Z(e,ct+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new pt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Yn),!(c.value===ft)&&l.value===c.value){if(!ul(l.params,c.params)){let m=[],C=s.matchStyles(l.value,l.params,m),k=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{we(e,C),te(e,k)})}return}let f=j(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let g=s.matchTransition(l.value,c.value,e,c.params),d=!1;if(!g){if(!i)return;g=s.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:d}),d||(Z(e,Es),o.onStart(()=>{We(e,Es)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let C=this._engine.playersByElement.get(e);if(C){let k=C.indexOf(o);k>=0&&C.splice(k,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,ut,!0);n.forEach(i=>{if(i[ne])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,ft,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&he(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||Yn,u=new pt(ft),h=new mt(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ne];(!s||s===Ns)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Z(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=zt(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Ut(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{let s=n.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},or=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new sr(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,n,i){if(Yt(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Yt(t))return;let s=t[ne];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Z(e,Wn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),We(e,Wn))}removeNode(e,t,n){if(Yt(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,s){this.collectedLeaveElements.push(t),t[ne]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,i,s){return Yt(t)?this._fetchNamespace(e).listen(t,n,i,s):()=>{}}_buildInstruction(e,t,n,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,ut,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Qt,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return he(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ne];if(t&&t.setForRemoval){if(e[ne]=Ns,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Wn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,el,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Z(i,tl)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?he(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw ls(e)}_flushAnimations(e,t){let n=new dt,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(p=>{u.add(p);let y=this.driver.query(p,Za,!0);for(let _=0;_<y.length;_++)u.add(y[_])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),g=Ss(f,this.collectedEnterElements),d=new Map,m=0;g.forEach((p,y)=>{let _=Kn+m++;d.set(y,_),p.forEach(w=>Z(w,_))});let C=[],k=new Set,x=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){let y=this.collectedLeaveElements[p],_=y[ne];_&&_.setForRemoval&&(C.push(y),k.add(y),_.hasAnimation?this.driver.query(y,nl,!0).forEach(w=>k.add(w)):x.add(y))}let I=new Map,R=Ss(f,Array.from(k));R.forEach((p,y)=>{let _=Kt+m++;I.set(y,_),p.forEach(w=>Z(w,_))}),e.push(()=>{g.forEach((p,y)=>{let _=d.get(y);p.forEach(w=>We(w,_))}),R.forEach((p,y)=>{let _=I.get(y);p.forEach(w=>We(w,_))}),C.forEach(p=>{this.processLeaveNode(p)})});let q=[],O=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(t).forEach(_=>{let w=_.player,B=_.element;if(q.push(w),this.collectedEnterElements.length){let U=B[ne];if(U&&U.setForMove){if(U.previousTriggersValues&&U.previousTriggersValues.has(_.triggerName)){let Ne=U.previousTriggersValues.get(_.triggerName),Y=this.statesByElement.get(_.element);if(Y&&Y.has(_.triggerName)){let Ot=Y.get(_.triggerName);Ot.value=Ne,Y.set(_.triggerName,Ot)}}w.destroy();return}}let ie=!h||!this.driver.containsElement(h,B),$=I.get(B),_e=d.get(B),N=this._buildInstruction(_,n,_e,$,ie);if(N.errors&&N.errors.length){O.push(N);return}if(ie){w.onStart(()=>we(B,N.fromStyles)),w.onDestroy(()=>te(B,N.toStyles)),i.push(w);return}if(_.isFallbackTransition){w.onStart(()=>we(B,N.fromStyles)),w.onDestroy(()=>te(B,N.toStyles)),i.push(w);return}let Xr=[];N.timelines.forEach(U=>{U.stretchStartingKeyframe=!0,this.disabledNodes.has(U.element)||Xr.push(U)}),N.timelines=Xr,n.append(B,N.timelines);let _a={instruction:N,player:w,element:B};o.push(_a),N.queriedElements.forEach(U=>j(a,U,[]).push(w)),N.preStyleProps.forEach((U,Ne)=>{if(U.size){let Y=l.get(Ne);Y||l.set(Ne,Y=new Set),U.forEach((Ot,xn)=>Y.add(xn))}}),N.postStyleProps.forEach((U,Ne)=>{let Y=c.get(Ne);Y||c.set(Ne,Y=new Set),U.forEach((Ot,xn)=>Y.add(xn))})});if(O.length){let p=[];O.forEach(y=>{p.push(cs(y.triggerName,y.errors))}),q.forEach(y=>y.destroy()),this.reportError(p)}let M=new Map,D=new Map;o.forEach(p=>{let y=p.element;n.has(y)&&(D.set(y,y),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,M))}),i.forEach(p=>{let y=p.element;this._getPreviousPlayers(y,!1,p.namespaceId,p.triggerName,null).forEach(w=>{j(M,y,[]).push(w),w.destroy()})});let Pe=C.filter(p=>Ts(p,l,c)),Ke=new Map;bs(Ke,this.driver,x,c,X).forEach(p=>{Ts(p,l,c)&&Pe.push(p)});let ke=new Map;g.forEach((p,y)=>{bs(ke,this.driver,new Set(p),l,je)}),Pe.forEach(p=>{let y=Ke.get(p),_=ke.get(p);Ke.set(p,new Map([...y?.entries()??[],..._?.entries()??[]]))});let Mn=[],Gr=[],Jr={};o.forEach(p=>{let{element:y,player:_,instruction:w}=p;if(n.has(y)){if(u.has(y)){_.onDestroy(()=>te(y,w.toStyles)),_.disabled=!0,_.overrideTotalTime(w.totalTime),i.push(_);return}let B=Jr;if(D.size>1){let $=y,_e=[];for(;$=$.parentNode;){let N=D.get($);if(N){B=N;break}_e.push($)}_e.forEach(N=>D.set(N,B))}let ie=this._buildAnimation(_.namespaceId,w,M,s,ke,Ke);if(_.setRealPlayer(ie),B===Jr)Mn.push(_);else{let $=this.playersByElement.get(B);$&&$.length&&(_.parentPlayer=he($)),i.push(_)}}else we(y,w.fromStyles),_.onDestroy(()=>te(y,w.toStyles)),Gr.push(_),u.has(y)&&i.push(_)}),Gr.forEach(p=>{let y=s.get(p.element);if(y&&y.length){let _=he(y);p.setRealPlayer(_)}}),i.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<C.length;p++){let y=C[p],_=y[ne];if(We(y,Kt),_&&_.hasAnimation)continue;let w=[];if(a.size){let ie=a.get(y);ie&&ie.length&&w.push(...ie);let $=this.driver.query(y,Qt,!0);for(let _e=0;_e<$.length;_e++){let N=a.get($[_e]);N&&N.length&&w.push(...N)}}let B=w.filter(ie=>!ie.destroyed);B.length?ll(this,y,B):this.processLeaveNode(y)}return C.length=0,Mn.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();let y=this.players.indexOf(p);this.players.splice(y,1)}),p.play()}),Mn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==ft;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(n||i)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,u=c!==s,h=j(n,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(g=>{let d=g.getRealPlayer();d.beforeDestroy&&d.beforeDestroy(),g.destroy(),h.push(g)})}we(s,t.fromStyles)}_buildAnimation(e,t,n,i,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,f=t.timelines.map(d=>{let m=d.element;u.add(m);let C=m[ne];if(C&&C.removedBeforeQueried)return new ce(d.duration,d.delay);let k=m!==l,x=cl((n.get(m)||rl).map(M=>M.getRealPlayer())).filter(M=>{let D=M;return D.element?D.element===m:!1}),I=s.get(m),R=o.get(m),q=Fn(this._normalizer,d.keyframes,I,R),O=this._buildPlayer(d,q,x);if(d.subTimeline&&i&&h.add(m),k){let M=new mt(e,a,m);M.setRealPlayer(O),c.push(M)}return O});c.forEach(d=>{j(this.playersByQueriedElement,d.element,[]).push(d),d.onDone(()=>sl(this.playersByQueriedElement,d.element,d))}),u.forEach(d=>Z(d,Qn));let g=he(f);return g.onDestroy(()=>{u.forEach(d=>We(d,Qn)),te(l,t.toStyles)}),h.forEach(d=>{j(i,d,[]).push(g)}),g}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new ce(e.duration,e.delay)}},mt=class{namespaceId;triggerName;element;_player=new ce;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>Ut(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){j(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function sl(r,e,t){let n=r.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1)}n.length==0&&r.delete(e)}return n}function ol(r){return r??null}function Yt(r){return r&&r.nodeType===1}function al(r){return r=="start"||r=="done"}function ws(r,e){let t=r.style.display;return r.style.display=e??"none",t}function bs(r,e,t,n,i){let s=[];t.forEach(l=>s.push(ws(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let f=e.computeStyle(c,h,i);u.set(h,f),(!f||f.length==0)&&(c[ne]=il,o.push(c))}),r.set(c,u)});let a=0;return t.forEach(l=>ws(l,s[a++])),o}function Ss(r,e){let t=new Map;if(r.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=n:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==n&&t.get(l).push(a)}),t}function Z(r,e){r.classList?.add(e)}function We(r,e){r.classList?.remove(e)}function ll(r,e,t){he(t).onDone(()=>r.processLeaveNode(e))}function cl(r){let e=[];return Ms(r,e),e}function Ms(r,e){for(let t=0;t<r.length;t++){let n=r[t];n instanceof Me?Ms(n.players,e):e.push(n)}}function ul(r,e){let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||r[s]!==e[s])return!1}return!0}function Ts(r,e,t){let n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(s=>i.add(s)):e.set(r,n),t.delete(r),!0}var Ye=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new or(e.body,t,n),this._timelineEngine=new ir(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,n,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=As(this._driver,s,l,c);if(l.length)throw Zi(i,l);a=Ga(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if(n.charAt(0)=="@"){let[s,o]=qn(n),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,s){if(n.charAt(0)=="@"){let[o,a]=qn(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function hl(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Gn(e[0]),e.length>1&&(n=Gn(e[e.length-1]))):e instanceof Map&&(t=Gn(e)),t||n?new fl(r,t,n):null}var fl=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i;let s=r.initialStylesByElement.get(t);s||r.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&te(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(te(this._element,this._initialStyles),this._endStyles&&(te(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(we(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),te(this._element,this._initialStyles),this._state=3)}}return r})();function Gn(r){let e=null;return r.forEach((t,n)=>{dl(n)&&(e=e||new Map,e.set(n,t))}),e}function dl(r){return r==="display"||r==="position"}var nn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:Ht(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},rn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Un(e,t)}getParentElement(e){return Vt(e)}query(e,t,n){return zn(e,t,n)}computeStyle(e,t,n){return Ht(e,t)}animate(e,t,n,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(g=>g instanceof nn);ds(n,i)&&u.forEach(g=>{g.currentSnapshot.forEach((d,m)=>c.set(m,d))});let h=hs(t).map(g=>new Map(g));h=ps(e,h,c);let f=hl(e,h);return new nn(e,h,l,f)}};var Gt="@",xs="@.disabled",sn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Gt&&t==xs?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.delegate.listen(e,t,n,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ar=class extends sn{factory;constructor(e,t,n,i,s){super(t,n,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Gt?t.charAt(1)=="."&&t==xs?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,i){if(t.charAt(0)==Gt){let s=pl(e),o=t.slice(1),a="";return o.charAt(0)!=Gt&&([o,a]=ml(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,i)}};function pl(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function ml(r){let e=r.indexOf("."),t=r.substring(0,e),n=r.slice(e+1);return[t,n]}var on=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let h=()=>c.delete(i);u=new sn("",i,this.engine,h),c.set(i,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new ar(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var yl=(()=>{class r extends Ye{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(oe(ri),oe(Oe),oe(Le))};static \u0275prov=se({token:r,factory:r.\u0275fac})}return r})();function _l(){return new Jt}function vl(r,e,t){return new on(r,e,t)}var Os=[{provide:Le,useFactory:_l},{provide:Ye,useClass:yl},{provide:oi,useFactory:vl,deps:[bi,Ye,ci]}],El=[{provide:Oe,useClass:lr},{provide:On,useValue:"NoopAnimations"},...Os],Rs=[{provide:Oe,useFactory:()=>new rn},{provide:On,useFactory:()=>"BrowserAnimations"},...Os],Ls=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?El:Rs}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Dt({type:r});static \u0275inj=It({providers:Rs,imports:[Ft]})}return r})();var Is=Ii("App",{web:()=>import("./chunk-PM2DJ2JL.js").then(r=>new r.AppWeb)});var tt=va(Do(),1);var mc=["qrcElement"],_n=(()=>{let e=class e{constructor(n,i){this.renderer=n,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new li,this.context=null}ngOnChanges(){return Rn(this,null,function*(){yield this.createQRCode()})}isValidQrCodeText(n){return this.allowEmptyString===!1?!(typeof n>"u"||n===""||n==="null"||n===null):!(typeof n>"u")}toDataURL(n){return new Promise((i,s)=>{(0,tt.toDataURL)(this.qrdata,n,(o,a)=>{o?s(o):i(a)})})}toCanvas(n,i){return new Promise((s,o)=>{(0,tt.toCanvas)(n,this.qrdata,i,a=>{a?o(a):s("success")})})}toSVG(n){return new Promise((i,s)=>{(0,tt.toString)(this.qrdata,n,(o,a)=>{o?s(o):i(a)})})}renderElement(n){for(let i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,n)}createQRCode(){return Rn(this,null,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):this.version!==void 0&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&this.qrdata===""&&(this.qrdata=" ");let n={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},i=this.imageSrc,s=this.imageHeight||40,o=this.imageWidth||40;switch(this.elementType){case"canvas":{let a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,n).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(o,s),i!==this.centerImage.src&&(this.centerImage.crossOrigin="anonymous",this.centerImage.src=i),s!==this.centerImage.height&&(this.centerImage.height=s),o!==this.centerImage.width&&(this.centerImage.width=o);let l=this.centerImage;l&&(l.onload=()=>{this.context?.drawImage(l,a.width/2-o/2,a.height/2-s/2,o,s)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] canvas error:",l)});break}case"svg":{let a=this.renderer.createElement("div");this.toSVG(n).then(l=>{this.renderer.setProperty(a,"innerHTML",l);let c=a.firstChild;this.renderer.setAttribute(c,"height",`${this.width}`),this.renderer.setAttribute(c,"width",`${this.width}`),this.renderElement(c),this.emitQRCodeURL(c)}).catch(l=>{console.error("[angularx-qrcode] svg error:",l)});break}case"url":case"img":default:{let a=this.renderer.createElement("img");this.toDataURL(n).then(l=>{this.alt&&a.setAttribute("alt",this.alt),this.ariaLabel&&a.setAttribute("aria-label",this.ariaLabel),a.setAttribute("src",l),this.title&&a.setAttribute("title",this.title),this.renderElement(a),this.emitQRCodeURL(a)}).catch(l=>{console.error("[angularx-qrcode] img/url error:",l)})}}}catch(n){console.error("[angularx-qrcode] Error generating QR Code:",n.message)}})}convertBase64ImageUrlToBlob(n){let i=n.split(";base64,"),s=i[0].split(":")[1],o=atob(i[1]),a=new Uint8Array(o.length);for(let l=0;l<o.length;++l)a[l]=o.charCodeAt(l);return new Blob([a],{type:s})}emitQRCodeURL(n){let i=n.constructor.name;if(i===SVGSVGElement.name){let c=n.outerHTML,u=new Blob([c],{type:"image/svg+xml"}),h=URL.createObjectURL(u),f=this.sanitizer.bypassSecurityTrustUrl(h);this.qrCodeURL.emit(f);return}let s="";i===HTMLCanvasElement.name&&(s=n.toDataURL("image/png")),i===HTMLImageElement.name&&(s=n.src);let o=this.convertBase64ImageUrlToBlob(s),a=URL.createObjectURL(o),l=this.sanitizer.bypassSecurityTrustUrl(a);this.qrCodeURL.emit(l)}};e.\u0275fac=function(i){return new(i||e)(G(ai),G(Ti))},e.\u0275cmp=Qe({type:e,selectors:[["qrcode"]],viewQuery:function(i,s){if(i&1&&mi(mc,7),i&2){let o;gi(o=yi())&&(s.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[ii],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,s){i&1&&di(0,"div",null,0),i&2&&_i(s.cssClass)},encapsulation:2,changeDetection:0});let r=e;return r})();function yc(r,e){if(r&1){let t=pi();F(0,"div",1),Bt("click",function(){ti(t);let i=Ln();return ni(i.classService.showGlobalQrCode=!1)}),F(1,"div",2),st(2,"qrcode",3),z()()}if(r&2){let t=Ln();si(2),fi("qrdata","uacode://join/"+t.classService.classId)("width",t.classService.qrWidth)}}var Fo=(()=>{let e=class e{constructor(n,i,s,o){this._router=n,this._userService=i,this.classService=s,this._http=o,this._userService.setMode("white"),Li.isNativePlatform()&&Is.addListener("appUrlOpen",({url:a})=>{a.includes("join")?this._http.post("/api/uacode/class/join",{_id:a.split("join/")[1]}).subscribe(l=>{l&&(this.classService.classes.push(l),this.classService.classId=l._id)}):a.includes("device")?(this._userService.device=a.split("device/")[1],localStorage.setItem("deviceId",this._userService.device)):this._router.navigateByUrl("/compiler").then(()=>{this._router.navigateByUrl("/compiler"+new URL(a).pathname)})})}};e.\u0275fac=function(i){return new(i||e)(G(ae),G(ot),G(Ri),G(Mi))},e.\u0275cmp=Qe({type:e,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[2,"position","fixed","left","0","top","0","width","100%","height","100%","background","white","z-index","999"],[2,"position","fixed","left","0","top","0","width","100%","height","100%","background","white","z-index","999",3,"click"],[2,"display","flex","align-items","center",`/* vertical center */
			justify-content`,"center",`/* horizontal center (optional) */
			height`,"100%"],["errorCorrectionLevel","M",3,"qrdata","width"]],template:function(i,s){i&1&&(ui(0,yc,3,2,"div",0),st(1,"router-outlet")),i&2&&hi(s.classService.showGlobalQrCode?0:-1)},dependencies:[_n,qt],encapsulation:2});let r=e;return r})();var qo=(()=>{let e=class e{constructor(n,i,s){this.us=n,this.router=i,this.location=s,this.hasHistory=!1,this.router.events.subscribe(o=>{o instanceof Ci&&(this.hasHistory=!0)})}goBack(){this.hasHistory?this.location.back():this.router.navigate(["/"])}};e.\u0275fac=function(i){return new(i||e)(G(ot),G(ae),G(Ei))},e.\u0275cmp=Qe({type:e,selectors:[["app-public"]],standalone:!1,decls:32,vars:0,consts:[[1,"topbar"],[1,"topbar-back",3,"click"],[1,"material-icons"],["routerLinkActive","_activeLink","routerLink","/compiler",1,"topbar-compiler"],[1,"main"],[1,"footer"],["routerLinkActive","_activeLink","routerLink","/",1,"footer-link"],["routerLinkActive","_activeLink","routerLink","/commands",1,"footer-link"],["routerLinkActive","_activeLink","routerLink","/quizzes",1,"footer-link"],["routerLinkActive","_activeLink","routerLink","/tournaments",1,"footer-link"]],template:function(i,s){i&1&&(F(0,"div",0)(1,"a",1),Bt("click",function(){return s.goBack()}),F(2,"i",2),J(3,"keyboard_arrow_left"),z()(),F(4,"a",3)(5,"i",2),J(6,"code"),z(),F(7,"span"),J(8,"\u041A\u043E\u043C\u043F\u0456\u043B\u044F\u0442\u043E\u0440"),z()()(),F(9,"div",4),st(10,"router-outlet"),z(),F(11,"nav",5)(12,"a",6)(13,"span",2),J(14,"store"),z(),F(15,"span"),J(16,"\u041C\u0430\u0433\u0430\u0437\u0438\u043D"),z()(),F(17,"a",7)(18,"span",2),J(19,"settings_input_component"),z(),F(20,"span"),J(21,"\u041A\u043E\u043C\u0430\u043D\u0434\u0438"),z()(),F(22,"a",8)(23,"span",2),J(24,"quiz"),z(),F(25,"span"),J(26,"\u041A\u0432\u0456\u0437\u0438"),z()(),F(27,"a",9)(28,"span",2),J(29,"emoji_events "),z(),F(30,"span"),J(31,"\u0422\u0443\u0440\u043D\u0456\u0440\u0438"),z()()())},dependencies:[qt,Ai,Pi],styles:["[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #3558ae;--c-primary: #449ddd;--c-primary-hover: #3d89c0;--c-secondary: rgb(197, 61, 61);--c-secondary-hover: rgb(150, 42, 42);--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #313335ab;--c-img-round: 50%;--card-background: #fefefe;--card-border-radius: 10px;--card-box-shadow: 0 4px 12px rgba(0, 0, 0, .15);--card-margin-bottom: 24px;--card-header-padding: 20px;--card-header-background: #e0e0e0;--card-body-padding: 20px;--card-section-padding: 10px 0;--card-footer-padding: 20px;--card-footer-background: #e0e0e0;--card-border-width: 2px;--card-border-color: #cccccc;--file-img-border-radius: 50%;--file-add-bg: #28a745;--file-add-bg-hover: #218838;--file-item-border-radius: 10px;--day-name: #988888;--b-radius-btn: 10px;--transition: all .3s;--events: #4c8e9d;--border: rgba(102, 91, 91, .432);--header-doc: #d8d8d8;--doc-products: #f5f5f5;--shadow: 0px 0px 10px -2px #00000052;--compliper: #fff;--border-comp: #96939387}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #d3cdcd;--c-calendar: #141414;--day-name: #dad5d5;--events: #1c2e32;--border: rgb(255 255 255 / 23%);--header-doc: #1b1b1be3;--doc-products: #252222;--shadow: unset;--compliper: rgb(26, 23, 23);--border-comp: #ffffff}hr[_ngcontent-%COMP%]{border:none;border-top:2px solid var(--c-text-primary);margin:5px 0}.theme-switch[_ngcontent-%COMP%]{position:absolute;right:10px;display:flex;justify-content:flex-end;margin-right:10px}.theme-switch[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{cursor:pointer}"]});let r=e;return r})();var _c=[at("flyInOut",[lt("in",Q({transform:"translateX(0)"})),Ee("void => *",[Q({transform:"translateY(-10px)",opacity:0,height:"0"}),ve(400)]),Ee("* => void",[ve(400,Q({opacity:0,height:"0",transform:"translateY(-10px)"}))])]),at("tabInOut",[lt("in",Q({transform:"translateX(0)"})),Ee("void => *",[Q({transform:"translateX(10px)",opacity:0}),ve(300)]),Ee("* => void",[ve(300,Q({opacity:0,transform:"translateX(10px)"}))])]),at("showInOut",[lt("in",Q({})),Ee("void => *",[Q({opacity:0}),ve(300)]),Ee("* => void",[ve(300,Q({opacity:0}))])])];var Wr={};ei(Wr,{Fetch:()=>Nt,Manager:()=>Ve,NodeWebSocket:()=>ye,NodeXHR:()=>ge,Socket:()=>Ue,WebSocket:()=>ye,WebTransport:()=>qe,XHR:()=>ge,connect:()=>Nn,default:()=>Nn,io:()=>Nn,protocol:()=>Hr});var re=Object.create(null);re.open="0";re.close="1";re.ping="2";re.pong="3";re.message="4";re.upgrade="5";re.noop="6";var Tt=Object.create(null);Object.keys(re).forEach(r=>{Tt[re[r]]=r});var Ct={type:"error",data:"parser error"};var Vo=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ko=typeof ArrayBuffer=="function",Qo=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,At=({type:r,data:e},t,n)=>Vo&&e instanceof Blob?t?n(e):Uo(e,n):Ko&&(e instanceof ArrayBuffer||Qo(e))?t?n(e):Uo(new Blob([e]),n):n(re[r]+(e||"")),Uo=(r,e)=>{let t=new FileReader;return t.onload=function(){let n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function zo(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}var Or;function jo(r,e){if(Vo&&r.data instanceof Blob)return r.data.arrayBuffer().then(zo).then(e);if(Ko&&(r.data instanceof ArrayBuffer||Qo(r.data)))return e(zo(r.data));At(r,!1,t=>{Or||(Or=new TextEncoder),e(Or.encode(t))})}var Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<Ho.length;r++)Pt[Ho.charCodeAt(r)]=r;var $o=r=>{let e=r.length*.75,t=r.length,n,i=0,s,o,a,l;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);let c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<t;n+=4)s=Pt[r.charCodeAt(n)],o=Pt[r.charCodeAt(n+1)],a=Pt[r.charCodeAt(n+2)],l=Pt[r.charCodeAt(n+3)],u[i++]=s<<2|o>>4,u[i++]=(o&15)<<4|a>>2,u[i++]=(a&3)<<6|l&63;return c};var vc=typeof ArrayBuffer=="function",kt=(r,e)=>{if(typeof r!="string")return{type:"message",data:Wo(r,e)};let t=r.charAt(0);return t==="b"?{type:"message",data:Ec(r.substring(1),e)}:Tt[t]?r.length>1?{type:Tt[t],data:r.substring(1)}:{type:Tt[t]}:Ct},Ec=(r,e)=>{if(vc){let t=$o(r);return Wo(t,e)}else return{base64:!0,data:r}},Wo=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}};var Yo="",Go=(r,e)=>{let t=r.length,n=new Array(t),i=0;r.forEach((s,o)=>{At(s,!1,a=>{n[o]=a,++i===t&&e(n.join(Yo))})})},Jo=(r,e)=>{let t=r.split(Yo),n=[];for(let i=0;i<t.length;i++){let s=kt(t[i],e);if(n.push(s),s.type==="error")break}return n};function Xo(){return new TransformStream({transform(r,e){jo(r,t=>{let n=t.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var Lr;function En(r){return r.reduce((e,t)=>e+t.length,0)}function wn(r,e){if(r[0].length===e)return r.shift();let t=new Uint8Array(e),n=0;for(let i=0;i<e;i++)t[i]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function Zo(r,e){Lr||(Lr=new TextDecoder);let t=[],n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(n===0){if(En(t)<1)break;let l=wn(t,1);s=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(En(t)<2)break;let l=wn(t,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(En(t)<8)break;let l=wn(t,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Ct);break}i=u*Math.pow(2,32)+c.getUint32(4),n=3}else{if(En(t)<i)break;let l=wn(t,i);a.enqueue(kt(s?l:Lr.decode(l),e)),n=0}if(i===0||i>r){a.enqueue(Ct);break}}}})}var Ir=4;function P(r){if(r)return wc(r)}function wc(r){for(var e in P.prototype)r[e]=P.prototype[e];return r}P.prototype.on=P.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};P.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};P.prototype.off=P.prototype.removeListener=P.prototype.removeAllListeners=P.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,i=0;i<t.length;i++)if(n=t[i],n===e||n.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+r],this};P.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,i=t.length;n<i;++n)t[n].apply(this,e)}return this};P.prototype.emitReserved=P.prototype.emit;P.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};P.prototype.hasListeners=function(r){return!!this.listeners(r).length};var de=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),K=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ea="arraybuffer";function bn(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}var bc=K.setTimeout,Sc=K.clearTimeout;function pe(r,e){e.useNativeTimers?(r.setTimeoutFn=bc.bind(K),r.clearTimeoutFn=Sc.bind(K)):(r.setTimeoutFn=K.setTimeout.bind(K),r.clearTimeoutFn=K.clearTimeout.bind(K))}var Tc=1.33;function ta(r){return typeof r=="string"?Cc(r):Math.ceil((r.byteLength||r.size)*Tc)}function Cc(r){let e=0,t=0;for(let n=0,i=r.length;n<i;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function Sn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function na(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function ra(r){let e={},t=r.split("&");for(let n=0,i=t.length;n<i;n++){let s=t[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var Tn=class extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}},me=class extends P{constructor(e){super(),this.writable=!1,pe(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Tn(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=kt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=na(e);return t.length?"?"+t:""}};var nt=class extends me{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Jo(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Go(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Sn()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var ia=!1;try{ia=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var sa=ia;function Ac(){}var Dr=class extends nt{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){let n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}},Cn=(()=>{class r extends P{constructor(t,n,i){super(),this.createRequest=t,pe(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;let n=bn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=r.requestsCount++,r.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ac,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete r.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return r.requestsCount=0,r.requests={},r})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",oa);else if(typeof addEventListener=="function"){let r="onpagehide"in K?"pagehide":"unload";addEventListener(r,oa,!1)}}function oa(){for(let r in Cn.requests)Cn.requests.hasOwnProperty(r)&&Cn.requests[r].abort()}var Pc=(function(){let r=aa({xdomain:!1});return r&&r.responseType!==null})(),ge=class extends Dr{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=Pc&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Cn(aa,this.uri(),e)}};function aa(r){let e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||sa))return new XMLHttpRequest}catch{}if(!e)try{return new K[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var la=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Fr=class extends me{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,n=la?{}:bn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],i=t===e.length-1;At(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&de(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Sn()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Br=K.WebSocket||K.MozWebSocket,ye=class extends Fr{createSocket(e,t,n){return la?new Br(e,t,n):t?new Br(e,t):new Br(e)}doWrite(e,t){this.ws.send(t)}};var qe=class extends me{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=Zo(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=Xo();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let s=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&de(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var qr={websocket:ye,webtransport:qe,polling:ge};var kc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rt(r){if(r.length>8e3)throw"URI too long";let e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let i=kc.exec(r||""),s={},o=14;for(;o--;)s[Nc[o]]=i[o]||"";return t!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Mc(s,s.path),s.queryKey=xc(s,s.query),s}function Mc(r,e){let t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function xc(r,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(t[i]=s)}),t}var Ur=typeof addEventListener=="function"&&typeof removeEventListener=="function",An=[];Ur&&addEventListener("offline",()=>{An.forEach(r=>r())},!1);var Pn=(()=>{class r extends P{constructor(t,n){if(super(),this.binaryType=ea,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){let i=rt(t);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=rt(n.host).host);pe(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{let s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ra(this.opts.query)),Ur&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},An.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let n=Object.assign({},this.opts.query);n.EIO=Ir,n.transport=t,this.id&&(n.sid=this.id);let i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){let s=this.writeBuffer[i].data;if(s&&(n+=ta(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,de(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,i){return this._sendPacket("message",t,n,i),this}send(t,n,i){return this._sendPacket("message",t,n,i),this}_sendPacket(t,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let o={type:t,data:n,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(r.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ur&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=An.indexOf(this._offlineEventListener);i!==-1&&An.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}return r.protocol=Ir,r})(),kn=class extends Pn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Pn.priorWebsocketSuccess=!1;let i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Pn.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let f=new Error("probe error");f.transport=t.name,this.emitReserved("upgradeError",f)}}))};function s(){n||(n=!0,u(),t.close(),t=null)}let o=h=>{let f=new Error("probe error: "+h);f.transport=t.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){t&&h.name!==t.name&&s()}let u=()=>{t.removeListener("open",i),t.removeListener("error",o),t.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};t.once("open",i),t.once("error",o),t.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}},it=class extends kn{constructor(e,t={}){let n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>qr[i]).filter(i=>!!i)),super(e,n)}};var Nt=class extends nt{doPoll(){this._fetch().then(e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then(t=>this.onData(t))}).catch(e=>{this.onError("fetch read error",e)})}doWrite(e,t){this._fetch(e).then(n=>{if(!n.ok)return this.onError("fetch write error",n.status,n);t()}).catch(n=>{this.onError("fetch write error",n)})}_fetch(e){var t;let n=e!==void 0,i=new Headers(this.opts.extraHeaders);return n&&i.set("content-type","text/plain;charset=UTF-8"),(t=this.socket._cookieJar)===null||t===void 0||t.appendCookies(i),fetch(this.uri(),{method:n?"POST":"GET",body:n?e:null,headers:i,credentials:this.opts.withCredentials?"include":"omit"}).then(s=>{var o;return(o=this.socket._cookieJar)===null||o===void 0||o.parseCookies(s.headers.getSetCookie()),s})}};var Ef=it.protocol;function ca(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=rt(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}var $r={};ei($r,{Decoder:()=>Qr,Encoder:()=>Kr,PacketType:()=>E,protocol:()=>Hr});var Rc=typeof ArrayBuffer=="function",Oc=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,ua=Object.prototype.toString,Lc=typeof Blob=="function"||typeof Blob<"u"&&ua.call(Blob)==="[object BlobConstructor]",Ic=typeof File=="function"||typeof File<"u"&&ua.call(File)==="[object FileConstructor]";function xt(r){return Rc&&(r instanceof ArrayBuffer||Oc(r))||Lc&&r instanceof Blob||Ic&&r instanceof File}function Mt(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(Mt(r[t]))return!0;return!1}if(xt(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Mt(r.toJSON(),!0);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Mt(r[t]))return!0;return!1}function ha(r){let e=[],t=r.data,n=r;return n.data=zr(t,e),n.attachments=e.length,{packet:n,buffers:e}}function zr(r,e){if(!r)return r;if(xt(r)){let t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){let t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=zr(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){let t={};for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=zr(r[n],e));return t}return r}function fa(r,e){return r.data=Vr(r.data,e),delete r.attachments,r}function Vr(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=Vr(r[t],e);else if(typeof r=="object")for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=Vr(r[t],e));return r}var Dc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Hr=5,E=(function(r){return r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",r})(E||{}),Kr=class{constructor(e){this.replacer=e}encode(e){return(e.type===E.EVENT||e.type===E.ACK)&&Mt(e)?this.encodeAsBinary({type:e.type===E.EVENT?E.BINARY_EVENT:E.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===E.BINARY_EVENT||e.type===E.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=ha(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};function da(r){return Object.prototype.toString.call(r)==="[object Object]"}var Qr=class r extends P{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let n=t.type===E.BINARY_EVENT;n||t.type===E.BINARY_ACK?(t.type=n?E.EVENT:E.ACK,this.reconstructor=new jr(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(xt(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,n={type:Number(e.charAt(0))};if(E[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===E.BINARY_EVENT||n.type===E.BINARY_ACK){let s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){let s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(s,t)}else n.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let s=t+1;for(;++t;){let o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(r.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case E.CONNECT:return da(t);case E.DISCONNECT:return t===void 0;case E.CONNECT_ERROR:return typeof t=="string"||da(t);case E.EVENT:case E.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Dc.indexOf(t[0])===-1);case E.ACK:case E.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},jr=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=fa(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function W(r,e,t){return r.on(e,t),function(){r.off(e,t)}}var Bc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ue=class extends P{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[W(e,"open",this.onopen.bind(this)),W(e,"packet",this.onpacket.bind(this)),W(e,"error",this.onerror.bind(this)),W(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,i,s;if(Bc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let o={type:E.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let u=this.ids++,h=t.pop();this._registerAckCallback(u,h),o.id=u}let a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((n,i)=>{let s=(o,a)=>o?i(o):n(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:E.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case E.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case E.EVENT:case E.BINARY_EVENT:this.onevent(e);break;case E.ACK:case E.BINARY_ACK:this.onack(e);break;case E.DISCONNECT:this.ondisconnect();break;case E.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,n=!1;return function(...i){n||(n=!0,t.packet({type:E.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:E.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let n of t)n.apply(this,e.data)}}};function ze(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}ze.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};ze.prototype.reset=function(){this.attempts=0};ze.prototype.setMin=function(r){this.ms=r};ze.prototype.setMax=function(r){this.max=r};ze.prototype.setJitter=function(r){this.jitter=r};var Ve=class extends P{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,pe(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ze({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||$r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new it(this.uri,this.opts);let t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=W(t,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=W(t,"error",s);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(W(e,"ping",this.onping.bind(this)),W(e,"data",this.ondata.bind(this)),W(e,"error",this.onerror.bind(this)),W(e,"close",this.onclose.bind(this)),W(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){de(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ue(this,e,t),this.nsps[e]=n),n}_destroy(e){let t=Object.keys(this.nsps);for(let n of t)if(this.nsps[n].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Rt={};function Nn(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};let t=ca(r,e.path||"/socket.io"),n=t.source,i=t.id,s=t.path,o=Rt[i]&&s in Rt[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,l;return a?l=new Ve(n,e):(Rt[i]||(Rt[i]=new Ve(n,e)),l=Rt[i]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(Nn,{Manager:Ve,Socket:Ue,io:Nn,connect:Nn});var pa=(()=>{let e=class e{constructor(n){this.router=n}canActivate(){if(localStorage.getItem("waw_user")){let n=JSON.parse(localStorage.getItem("waw_user"));return n.is&&n.is.admin?!0:(this.router.navigate(["/profile"]),!1)}else return this.router.navigate(["/sign"]),!1}};e.\u0275fac=function(i){return new(i||e)(oe(ae))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let r=e;return r})();var ma=(()=>{let e=class e{constructor(n){this.router=n}canActivate(){return localStorage.getItem("waw_user")?!0:(this.router.navigateByUrl("/sign"),!1)}};e.\u0275fac=function(i){return new(i||e)(oe(ae))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let r=e;return r})();var ga=(()=>{let e=class e{constructor(n){this.router=n}canActivate(){return localStorage.getItem("waw_user")?(this.router.navigateByUrl("/profile"),!1):!0}};e.\u0275fac=function(i){return new(i||e)(oe(ae))},e.\u0275prov=se({token:e,factory:e.\u0275fac});let r=e;return r})();var Fc=[{path:"",component:qo,children:[{path:"",canActivate:[V],data:{meta:{title:"\u041C\u0435\u043D\u044E"}},loadChildren:()=>import("./chunk-QVZQNJXD.js").then(r=>r.MenuModule)},{path:"franchise",canActivate:[V],data:{meta:{title:"\u0424\u0440\u0430\u043D\u0448\u0438\u0437\u0430"}},loadChildren:()=>import("./chunk-FBA7YPL3.js").then(r=>r.FranchiseModule)},{path:"mentor",canActivate:[V],data:{meta:{title:"\u041C\u0435\u043D\u0442\u043E\u0440"}},loadChildren:()=>import("./chunk-4ZQEPDFB.js").then(r=>r.MentorModule)},{path:"opt",canActivate:[V],data:{meta:{title:"\u041E\u043F\u0442\u043E\u0432\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u043A\u043D\u0438\u0433"}},loadChildren:()=>import("./chunk-SHAW3VDX.js").then(r=>r.OptModule)},{path:"privacy",canActivate:[V],data:{meta:{title:"Privacy"}},loadChildren:()=>import("./chunk-OI7WV5GQ.js").then(r=>r.PrivacyModule)},{path:"achievements",canActivate:[V],data:{meta:{title:"\u0414\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"}},loadChildren:()=>import("./chunk-MZBVQ3IC.js").then(r=>r.AchievementsModule)},{path:"store",canActivate:[V],data:{meta:{title:"\u041C\u0430\u0433\u0430\u0437\u0438\u043D"}},loadChildren:()=>import("./chunk-VDEI533P.js").then(r=>r.StoreModule)},{path:"quiz",canActivate:[V],data:{meta:{title:"\u0412\u0456\u043A\u0442\u043E\u0440\u0438\u043D\u0430"}},loadChildren:()=>import("./chunk-I7XWUA4M.js").then(r=>r.QuizModule)},{path:"quizzes",canActivate:[V],data:{meta:{title:"\u0412\u0456\u043A\u0442\u043E\u0440\u0438\u043D\u0438"}},loadChildren:()=>import("./chunk-3HVEGTAC.js").then(r=>r.QuizzesModule)},{path:"tournament",canActivate:[V],data:{meta:{title:"\u0422\u0443\u0440\u043D\u0456\u0440"}},loadChildren:()=>import("./chunk-DUAW5JNC.js").then(r=>r.TournamentModule)},{path:"tournaments",canActivate:[V],data:{meta:{title:"\u0422\u0443\u0440\u043D\u0456\u0440\u0438"}},loadChildren:()=>import("./chunk-MEVVZX36.js").then(r=>r.TournamentsModule)},{path:"commands",canActivate:[V],data:{meta:{title:"\u041A\u043E\u043C\u0430\u043D\u0434\u0438"}},loadChildren:()=>import("./chunk-P26CVWN7.js").then(r=>r.CommandsModule)},{path:"compiler",canActivate:[V],data:{meta:{title:"\u041A\u043E\u043C\u043F\u0456\u043B\u044F\u0442\u043E\u0440"}},loadChildren:()=>import("./chunk-CKJW4GNC.js").then(r=>r.CompilerModule)},{path:"sign",canActivate:[V],data:{meta:{title:"Sign"}},loadChildren:()=>import("./chunk-MOAZW3LR.js").then(r=>r.SignModule)}]},{path:"**",redirectTo:"compiler",pathMatch:"full"}],ya=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dt({type:e,bootstrap:[Fo]}),e.\u0275inj=It({providers:[{provide:vi,useClass:wi},ma,ga,pa],imports:[_n,Oi,Ft,Ls,xi.forRoot({store:{},http:{url:le.url},socket:{url:le.url},io:Wr,meta:{useTitleSuffix:!0,defaults:{title:le.meta.title,favicon:le.meta.favicon,description:le.meta.description,titleSuffix:" | "+le.meta.title,"og:image":le.meta.image}},modal:{modals:{}},alert:{alerts:{}},loader:{loaders:{}},popup:{popups:{}}}),Ni.forRoot(Fc,{scrollPositionRestoration:"enabled",preloadingStrategy:ki})]});let r=e;return r})();le.production&&void 0;Si().bootstrapModule(ya).catch(r=>console.error(r));
